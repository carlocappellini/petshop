(this.webpackJsonppetshop=this.webpackJsonppetshop||[]).push([[0],{191:function(e,t,n){e.exports=n(327)},327:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(48),r=n.n(c),i=n(179),o=n(60),s=n(15),p=n(16),u=n(18),m=n(17),h=n(347),d=n(346),f=n(348),v=n(345),g=n(328),C=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.appointments,a=t.pets,c=t.services;console.log("appointment",n),console.log("pets",a);var r=[];return n.length>0&&a.length>0&&a.forEach((function(e){n.forEach((function(t){c.forEach((function(n){t.pet_id===e.id&&t.service_id===n.id&&null===t.finish&&r.push({appointmentId:t.id,petName:e.name,petId:t.pet_id,service:n.name,date:t.date})}))}))})),l.a.createElement(v.a.Group,null,r.length>0?r.reverse().map((function(t){return l.a.createElement(v.a,null,l.a.createElement(v.a.Content,null,l.a.createElement(v.a.Header,null,"Name: ",t.petName),l.a.createElement(v.a.Meta,null,"pet"),l.a.createElement(v.a.Description,null,"Service: ",t.service),l.a.createElement(v.a.Description,null,"Service: ",t.date),l.a.createElement(g.a,{basic:!0,color:"pink",onClick:function(){return e.props.finishOnClick(t)}},"Finish")))})):l.a.createElement(v.a,null,l.a.createElement(v.a.Content,null,l.a.createElement(v.a.Header,null,"No one is checked in"))))}}]),n}(a.Component),E=n(337),b=n(342),k=n(343),I=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.services,n=e.servicesOnClick,a=e.selectPetOnClick,c=e.pets,r=e.checkIn,i=t.length>0&&t.map((function(e){return{key:e.id,text:e.name,value:e.id}})),o=c.length>0&&c.map((function(e){return{key:e.id,text:e.name,value:e.id}}));return l.a.createElement("div",{className:"ui segment"},l.a.createElement(b.a,{onSubmit:r},l.a.createElement(b.a.Group,null,l.a.createElement(k.a,{placeholder:"Pet",options:o,search:!0,selection:!0,fluid:!0,allowAdditions:!0,onChange:a}),l.a.createElement(k.a,{placeholder:"Service",options:i,search:!0,selection:!0,fluid:!0,allowAdditions:!0,onChange:n}),l.a.createElement(E.a,{label:"Make my profile visible"})),l.a.createElement("button",{className:"ui secondary button"},"Check In")),l.a.createElement("button",{className:"ui button"},"Cancel"))}}]),n}(a.Component),O=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.activeItemHome,n=e.handleItemClickHome;return l.a.createElement(h.a,null,l.a.createElement(h.a.Column,{width:4},l.a.createElement(d.a,{fluid:!0,vertical:!0,tabular:!0},l.a.createElement(d.a.Item,{name:"Quick Check In",active:"Quick Check In"===t,onClick:n}),l.a.createElement(d.a.Item,{name:"Checked In",active:"Checked In"===t,onClick:n}))),l.a.createElement(h.a.Column,{stretched:!0,width:12},l.a.createElement(f.a,null,"Checked In"===t&&l.a.createElement(C,{services:this.props.services,servicesOnClick:this.props.servicesOnClick,selectPetOnClick:this.props.selectPetOnClick,pets:this.props.pets,appointments:this.props.appointments,checkIn:this.props.checkIn,finishOnClick:this.props.finishOnClick}),"Quick Check In"===t&&l.a.createElement(I,{services:this.props.services,servicesOnClick:this.props.servicesOnClick,selectPetOnClick:this.props.selectPetOnClick,pets:this.props.pets,appointments:this.props.appointments,checkIn:this.props.checkIn,handleResultSelect:this.props.handleResultSelect,handleSearchChange:this.props.handleSearchChange,isLoading:this.props.isLoading,results:this.props.results,value:this.props.value}))))}}]),n}(a.Component),y=n(21),S=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.clientInfo,n=e.formHandleChange,a=e.addingClient;return l.a.createElement("div",null,l.a.createElement("div",{className:"clientform"},l.a.createElement(b.a,{onSubmit:a},l.a.createElement("h1",null,"Customer Info"),l.a.createElement(b.a.Group,{unstackable:!0,widths:2},l.a.createElement(b.a.Input,{label:"First name",placeholder:"First name",id:"firstname",name:"firstname",value:t.firstName,onChange:n}),l.a.createElement(b.a.Input,{label:"Last name",id:"lastname",name:"lastname",placeholder:"Last name",value:t.lastName,onChange:n})),l.a.createElement(b.a.Group,{widths:2},l.a.createElement(b.a.Input,{label:"Email",placeholder:"Email",onChange:n}),l.a.createElement(b.a.Input,{id:"homephone",value:t.homephone,name:"homephone",label:"Phone",placeholder:"(xxx)xxx-xxxx",onChange:n}),l.a.createElement(b.a.Input,{label:"Alt. Phone",placeholder:"(xxx)xxx-xxxx",id:"workphone",name:"workphone",value:t.workphone,onChange:n})),l.a.createElement("button",{class:"ui button"},"Submit"),l.a.createElement(y.b,{to:"/client"},l.a.createElement("button",{className:"back-button ui button"},"Back")))))}}]),n}(a.Component),j=n(338),w=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props.activeItem;return l.a.createElement("div",null,l.a.createElement(d.a,{pointing:!0},l.a.createElement(d.a.Item,{as:y.b,to:"/",name:"home",active:"home"===e,onClick:this.props.handleItemClick}),l.a.createElement(k.a,{item:!0,text:"Client"},l.a.createElement(k.a.Menu,null,l.a.createElement(k.a.Item,null,l.a.createElement(d.a.Item,{as:y.b,to:"/client",name:"Clients",active:"Clients"===e,onClick:this.props.handleItemClick})),l.a.createElement(k.a.Item,null,l.a.createElement(d.a.Item,{as:y.b,to:"/form",name:"New Client",active:"New Client"===e,onClick:this.props.handleItemClick})),l.a.createElement(k.a.Item,null,l.a.createElement(d.a.Item,{as:y.b,to:"/services/new",name:"New Services",active:"New Services"===e,onClick:this.props.handleItemClick})))),l.a.createElement(d.a.Item,{as:y.b,to:"/history",name:"History",active:"History"===e,onClick:this.props.handleItemClick}),l.a.createElement(d.a.Menu,{position:"right"},l.a.createElement(d.a.Item,null,"Clients"===e&&l.a.createElement(j.a,{icon:"search",placeholder:"Search...",name:"search",value:this.props.search,onChange:this.props.searchClientsHandleChange}),"History"===e&&l.a.createElement(j.a,{icon:"search",placeholder:"Search...",name:"search",value:this.props.search,onChange:this.props.searchHistoryHandleChange})),l.a.createElement(k.a,{item:!0,text:"Account"},l.a.createElement(k.a.Menu,null,window.localStorage.getItem("username")?l.a.createElement(k.a.Item,null,l.a.createElement(d.a.Item,{as:y.b,to:"/",name:"logout",active:"Home"===e,onClick:this.props.handleClickLogout})):l.a.createElement(k.a.Item,null,l.a.createElement(d.a.Item,{as:y.b,to:"/Login",name:"Login",active:"Login"===e,onClick:this.handleItemClick})),l.a.createElement(k.a.Item,null,l.a.createElement(d.a.Item,{as:y.b,to:"/signup",name:"Signup",active:"Signup"===e,onClick:this.handleItemClick})))))))}}]),n}(a.Component),N=n(339),P=n(340),x=n(341),A=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{style:{margin:"20%",marginTop:"10%"}},l.a.createElement("h1",null,"Petshop"),l.a.createElement(N.a,{style:{border:"1px solid black",height:"2500px"}},l.a.createElement(P.a,null,l.a.createElement(x.a,{style:{border:"2px solid black"}},"Name:"),l.a.createElement(x.a,{style:{border:"2px solid black"}},"Pet:"),l.a.createElement(x.a,{style:{border:"2px solid black"}},"Time:")))))}}]),n}(a.Component),T=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"row mt-2"},this.props.filteredClients.length?this.props.filteredClients.map((function(t){return l.a.createElement("div",{className:"col-sm-6 mt-2"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},"(",t.id,"),",t.lastname,", ",t.firstname),l.a.createElement("p",{className:"card-text"},"home phone: ",t.homephone),l.a.createElement("p",{className:"card-text"},"workphone: ",t.workphone),l.a.createElement("a",{className:"btn btn-secondary",onClick:function(){return e.props.clientPetOnClick(t)}},"Pets list"),l.a.createElement("a",{className:"btn btn-primary ml-1",id:t.id,onClick:function(){return e.props.addingPetToAClient(t)}},"Add a Pet"),l.a.createElement("a",{className:"btn btn-danger ml-1",onClick:function(){return e.props.deleteClientHandleClick(t)}},"Delete Client"),l.a.createElement("a",{className:"btn btn-primary ml-1",onClick:function(){return e.props.clientOnClickEdit(t)}},"Edit"))))})):l.a.createElement("h1",null,"No Clients")))}}]),n}(a.Component),H=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.addingUser,n=e.handleChange;e.accounts;return l.a.createElement(b.a,{onSubmit:t},l.a.createElement(b.a.Field,null,l.a.createElement("label",null,"Username"),l.a.createElement("input",{placeholder:"Username",id:"username",name:"username",onChange:n})),l.a.createElement(b.a.Field,null,l.a.createElement("label",null,"Password"),l.a.createElement("input",{placeholder:"Password",id:"password",name:"password",type:"password",onChange:n})),l.a.createElement(g.a,{type:"submit"},"Sign-Up"))}}]),n}(a.Component),L=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.petInfo,n=e.submitingPet,a=e.breeds,c=e.petInfoInputChange,r=e.petBreedOnChange,i=a.length>0&&a.map((function(e){return{key:e.id,text:e.name,value:e.id}}));return l.a.createElement("div",null,l.a.createElement(b.a,{onSubmit:n},l.a.createElement("h1",null,"Customer Info"),l.a.createElement(b.a.Group,{unstackable:!0,widths:2},l.a.createElement(b.a.Input,{label:"Pets Name",placeholder:"Name",id:"name",name:"name",value:t.name,onChange:c}),l.a.createElement(b.a.Input,{label:"Color",placeholder:"Color",onChange:c,id:"color",name:"color",value:t.color}),l.a.createElement(k.a,{placeholder:"Breed",options:i,search:!0,selection:!0,fluid:!0,allowAdditions:!0,onChange:r})),l.a.createElement(b.a.Group,{widths:2},l.a.createElement("div",{class:"field"},l.a.createElement("label",null,"Special Concerns"),l.a.createElement("textarea",{rows:"2",name:"specialconcerns",onChange:c,value:t.specialconcerns,id:"specialconcerns"})),l.a.createElement(b.a.Input,{type:"date",label:"Rabies",placeholder:"mm/dd/yyyy",name:"rabies",onChange:c,value:t.rabies})),l.a.createElement("button",{class:"ui button"},"Submit"),l.a.createElement(y.b,{to:"/client"},l.a.createElement("button",{className:"back-button ui button"},"Back"))))}}]),n}(a.Component),D=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h1",null,this.props.clientName,"'s Pet list"),l.a.createElement("div",{className:"row mt-2"},this.props.clientPets.length>0?this.props.clientPets.map((function(t,n,a){n.appointments;return l.a.createElement("div",{className:"col-sm-6 mt-2"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body",key:a},l.a.createElement("h5",{className:"card-title"},t.name),l.a.createElement("p",{className:"card-text"},"color: ",t.color),l.a.createElement("p",{className:"card-text"},"special concerns: ",t.specialconcerns),l.a.createElement("p",{className:"card-text"},"rabies expiration: ",t.rabies),l.a.createElement("div",null),l.a.createElement(y.b,{className:"btn btn-primary ml-1",onClick:function(){return e.props.petOnClickEdit(t)}},"Edit"),l.a.createElement(y.b,{className:"btn btn-danger ml-1",onClick:function(){return e.props.petOnClickDelete(t)}},"Delete"))))})):l.a.createElement("h1",null," No pets ")),l.a.createElement(y.b,{to:"/client"},l.a.createElement("button",{className:"back-button ui button"},"Back")))}}]),n}(a.Component),B=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={},e}return Object(p.a)(n,[{key:"render",value:function(){console.log("edit page props",this.props);var e=this.props,t=e.petInfo,n=e.submitingEditPet,a=e.breeds,c=e.petInfoInputChange,r=e.petBreedOnChange,i=a.length>0&&a.map((function(e){return{key:e.id,text:e.name,value:e.id}}));return l.a.createElement("div",null,l.a.createElement(b.a,{onSubmit:n},l.a.createElement("h1",null,"Customer Info"),l.a.createElement(b.a.Group,{unstackable:!0,widths:2},l.a.createElement(b.a.Input,{label:"Pets Name",placeholder:"Name",id:"name",name:"name",value:t.name,onChange:c}),l.a.createElement(b.a.Input,{label:"Color",placeholder:"Color",onChange:c,id:"color",name:"color",value:t.color}),l.a.createElement(k.a,{placeholder:"Breed",options:i,search:!0,selection:!0,fluid:!0,allowAdditions:!0,onChange:r})),l.a.createElement(b.a.Group,{widths:2},l.a.createElement("div",{class:"field"},l.a.createElement("label",null,"Special Concerns"),l.a.createElement("textarea",{rows:"2",name:"specialconcerns",onChange:c,value:t.specialconcerns,id:"specialconcerns"})),l.a.createElement(b.a.Input,{type:"date",label:"Rabies",placeholder:"mm/dd/yyyy",name:"rabies",onChange:c,value:t.rabies})),l.a.createElement("button",{class:"ui button"},"Update")),l.a.createElement(y.b,{to:"/client"},l.a.createElement("button",{className:"back-button ui button"},"Back")))}}]),n}(a.Component),_=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){console.log("edit application props",this.props.clientInfo);var e=this.props,t=e.clientInfo,n=e.formHandleChange,a=e.submitingEditClient;return l.a.createElement("div",null,l.a.createElement("div",{className:"clientform"},l.a.createElement(b.a,{onSubmit:a},l.a.createElement("h1",null,"Customer Info"),l.a.createElement(b.a.Group,{unstackable:!0,widths:2},l.a.createElement(b.a.Input,{label:"First name",value:t.firstname,placeholder:"First name",id:"firstname",name:"firstname",onChange:n}),l.a.createElement(b.a.Input,{label:"Last name",id:"lastname",name:"lastname",placeholder:"Last name",value:t.lastname,onChange:n})),l.a.createElement(b.a.Group,{widths:2},l.a.createElement(b.a.Input,{label:"Email",placeholder:"Email",onChange:n}),l.a.createElement(b.a.Input,{id:"homephone",value:t.homephone,name:"homephone",label:"Phone",placeholder:"(xxx)xxx-xxxx",onChange:n}),l.a.createElement(b.a.Input,{label:"Alt. Phone",placeholder:"(xxx)xxx-xxxx",id:"workphone",name:"workphone",value:t.workphone,onChange:n})),l.a.createElement("button",{class:"ui button"},"Submit"),l.a.createElement(y.b,{to:"/client"},l.a.createElement("button",{className:"back-button ui button"},"Back")))))}}]),n}(a.Component),G=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.pets,n=e.services;return l.a.createElement(v.a.Group,null,t.length>0&&n.length?t.map((function(e){return l.a.createElement(v.a,null,l.a.createElement(v.a.Content,null,l.a.createElement(v.a.Header,null,e.name),e.appointments.map((function(t){return l.a.createElement("div",null,l.a.createElement(v.a.Meta,null,"Date: ",t.date),l.a.createElement(v.a.Meta,null,"Service: ",t.service_id),l.a.createElement("div",null,e.services.map((function(e){return e.id===t.service_id&&l.a.createElement(v.a.Meta,null,e.name," ")}))))}))),l.a.createElement(v.a.Content,{extra:!0},l.a.createElement("div",{className:"ui two buttons"},l.a.createElement(g.a,{basic:!0,color:"green"},"Approve"),l.a.createElement(g.a,{basic:!0,color:"red"},"Decline"))))})):l.a.createElement(v.a,null,l.a.createElement(v.a.Content,null,l.a.createElement(v.a.Header,null,"No Pets"))))}}]),n}(a.Component),U=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handleLoginChange,n=e.handleClick;return l.a.createElement(b.a,{onSubmit:n},l.a.createElement(b.a.Field,null,l.a.createElement("label",null,"Username"),l.a.createElement("input",{placeholder:"Username",id:"username",name:"username",onChange:t})),l.a.createElement(b.a.Field,null,l.a.createElement("label",null,"Password"),l.a.createElement("input",{placeholder:"Password",type:"password",id:"password",name:"password",onChange:t})),l.a.createElement(g.a,{type:"submit"},"Login"))}}]),n}(a.Component),J=n(344),F=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.props.services;return l.a.createElement("div",null,l.a.createElement(b.a,{onSubmit:this.props.addingNewService},l.a.createElement(b.a.Group,{widths:"equal"},l.a.createElement(b.a.Input,{fluid:!0,label:"Service Name",placeholder:"Service Name",id:"name",name:"name",value:this.props.ServiceNew,onChange:this.props.handleChangeServiceNew}),l.a.createElement("button",{class:"ui button"},"Submit"),l.a.createElement(y.b,{to:"/client"},l.a.createElement("button",{className:"back-button ui button"},"Back")))),t.length>0&&t.map((function(t){return l.a.createElement(J.a,null,l.a.createElement(J.a.Item,null,t.name),l.a.createElement(g.a,{color:"red",onClick:function(){return e.props.serviceOnClickDelete(t)}},"Delete"))})))}}]),n}(a.Component),M=n(121),R=n.n(M),z=n(22),V=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={accounts:{username:"",password:""},clientInfo:{firstname:"",lastname:"",homephone:"",workphone:""},petInfo:{name:"",color:"",specialconcerns:"",rabies:""},clients:"",filteredClients:[],filteredPets:[],client_id:"",clientName:"",breedId:"",breedName:"",clientPets:"",services:"",serviceId:"",breeds:"",clientIdOnSelect:"",pets:"",petIdOnSelect:"",appointments:"",activeItem:"Home",activeItemHome:"Quick Check In",isLoading:!1,results:"",value:"",checkedIn:"",search:"",serviceNewValue:"",curTime:""},e.fetchingAllClients=function(){var t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}};fetch("https://k9-petshop.herokuapp.com/clients",t).then((function(e){return e.json()})).then((function(t){console.log("hi this is from the heroku",t),e.setState({clients:t,filteredClients:t})}))},e.fetchingAllBreed=function(){var t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}};fetch("https://k9-petshop.herokuapp.com/breeds",t).then((function(e){return e.json()})).then((function(t){e.setState({breeds:t})}))},e.fetchingAllServices=function(){var t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}};fetch("https://k9-petshop.herokuapp.com/services",t).then((function(e){return e.json()})).then((function(t){e.setState({services:t})}))},e.fetchingAllPets=function(){var t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}};fetch("https://k9-petshop.herokuapp.com/pets",t).then((function(e){return e.json()})).then((function(t){e.setState({pets:t,filteredPets:t})}))},e.fetchingAllAppointments=function(){var t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}};fetch("https://k9-petshop.herokuapp.com/appointments",t).then((function(e){return e.json()})).then((function(t){e.setState({appointments:t})}))},e.submitingPet=function(t){e.props.history.push("pet");var n=e.state,a=n.petInfo,l=n.breedId,c=n.client_id;console.log("pet info----\x3e ",a),t.preventDefault();var r={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({pet:{name:a.name,color:a.color,specialconcerns:a.specialconcerns,rabies:a.rabies,breed_id:l,client_id:c}})};fetch("https://k9-petshop.herokuapp.com/pets",r).then((function(e){return e.json()})).then((function(t){e.setState({petInfo:{name:"",color:"",specialconcerns:"",rabies:""}});var n=e.state.client_id;e.fetchingClientPets(n),e.fetchingAllPets()}))},e.submitingEditPet=function(t){t.preventDefault();var n=e.state,a=n.petInfo,l=n.client_id,c=n.breedId,r=a.id,i={method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({pet:{name:a.name,color:a.color,specialconcerns:a.specialconcerns,rabies:a.rabies,breed_id:c,client_id:l}})};fetch("https://k9-petshop.herokuapp.com/pets/".concat(r),i).then((function(e){return e.json()})).then((function(t){console.log(t),e.fetchingClientPets(l),e.setState({petInfo:{name:"",color:"",specialconcerns:"",rabies:""}})})),e.props.history.push("/pet")},e.petBreedOnChange=function(t){var n=t.id,a=t.name;e.setState({breedId:n}),e.setState({breedName:a})},e.submitingEditClient=function(t){t.preventDefault();var n=e.state,a=n.clientInfo,l=n.client_id,c=a.id,r={method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({client:{lastname:a.lastname,firstname:a.firstname,homephone:a.homephone,workphone:a.workphone}})};fetch("https://k9-petshop.herokuapp.com/clients/".concat(c),r).then((function(e){return e.json()})).then((function(t){console.log(t),e.fetchingClientPets(l),e.setState({clientInfo:{firstname:"",lastname:"",homephone:"",workphone:""}}),e.fetchingAllClients()})),e.props.history.push("/client")},e.petBreedOnChange=function(t,n){console.log("breed change",n.value);var a=n.value,l=n.name;e.setState({breedId:a}),e.setState({breedName:l})},e.petInfoInputChange=function(t){var n=Object(o.a)({},e.state.petInfo);n[t.currentTarget.name]=t.currentTarget.value,e.setState({petInfo:n})},e.handleLoginChange=function(t,n){var a=Object(o.a)({},e.state.login);a[t.currentTarget.name]=t.currentTarget.value,e.setState({login:a})},e.handleChange=function(t){var n=Object(o.a)({},e.state.accounts);n[t.currentTarget.name]=t.currentTarget.value,e.setState({accounts:n})},e.handleChangeServiceNew=function(t){var n=Object(o.a)({},e.state.serviceNewValue);n[t.currentTarget.name]=t.currentTarget.value,e.setState({serviceNewValue:n})},e.addingNewService=function(t,n){t.preventDefault();var a=e.state.serviceNewValue,l={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({service:{name:a.name}})};fetch("https://k9-petshop.herokuapp.com/services",l).then((function(e){return e.json()})).then((function(t){console.log("json",t),e.props.history.push("/"),e.fetchingAllServices(),e.setState({serviceNewValue:{name:""}})}))},e.formHandleChange=function(t){var n=Object(o.a)({},e.state.clientInfo);n[t.currentTarget.name]=t.currentTarget.value,e.setState({clientInfo:n})},e.handleClick=function(t){var n=e.state.login;console.log(n),t.preventDefault();var a={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:{username:n.username,password:n.password}})};fetch("https://k9-petshop.herokuapp.com/api/login",a).then((function(e){return e.json()})).then((function(t){console.log("json",t),t.hasOwnProperty("error")?e.setState({error:t.error}):(console.log("hey"),window.localStorage.setItem("token",t.jwt),window.localStorage.setItem("username",t.user.username),window.localStorage.setItem("userId","".concat(t.user.id)),e.setState({current_user:t.user}))})),e.setState({username:"",password:""}),e.fetchingAllServices(),e.props.history.push("/")},e.fetchingClientPets=function(t){console.log("client info");var n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}};fetch("https://k9-petshop.herokuapp.com/clients/".concat(t),n).then((function(e){return e.json()})).then((function(t){console.log("my response",t),e.setState({clientPets:t})}))},e.addingPetToAClient=function(t){var n=t.id;e.fetchingClientPets(n),e.setState({client_id:n}),e.setState({clientName:t.firstname}),e.props.history.push("/addPet")},e.addingUser=function(t,n){t.preventDefault();var a=e.state.accounts;console.log("accounts",a);var l={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:{username:a.username,password:a.password}})};fetch("https://k9-petshop.herokuapp.com/api/users",l).then((function(e){return e.json()})).then((function(e){console.log("json",e)})),e.props.history.push("/")},e.clientPetOnClick=function(t){var n=t.id;e.fetchingClientPets(n),e.setState({client_id:n}),e.setState({clientName:t.firstname}),e.props.history.push("/pet")},e.petOnClickDelete=function(t){console.log("delete");var n=t.id,a=e.state.clientPets.filter((function(e){return e.id!==n}));e.setState({clientPets:a}),fetch("https://k9-petshop.herokuapp.com/pets/".concat(n),{method:"DELETE"}),e.fetchingAllPets()},e.serviceOnClickDelete=function(t){console.log("service",t.id);var n=t.id,a=e.state.services.filter((function(e){return e.id!==n}));console.log(a),e.setState({services:a}),fetch("https://k9-petshop.herokuapp.com/services/".concat(n),{method:"DELETE"}),e.fetchingAllServices()},e.deleteClientHandleClick=function(t){var n=t.id,a=e.state.clients.filter((function(e){return e.id!==n}));e.setState({clients:a}),fetch("https://k9-petshop.herokuapp.com/clients/".concat(n),{method:"DELETE"}),e.fetchingAllClients()},e.petOnClickEdit=function(t){e.setState({petInfo:t}),e.props.history.push("/editPet")},e.addingClient=function(t){t.preventDefault();var n=e.state.clientInfo;fetch("https://k9-petshop.herokuapp.com/clients",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({client:{lastname:n.lastname,firstname:n.firstname,homephone:n.homephone,workphone:n.workphone}})}).then((function(e){return e.json()})).then((function(t){console.log("after submitting",t),e.setState({clientInfo:{firstname:"",lastname:"",homephone:"",workphone:""}}),e.fetchingAllClients()})),e.props.history.push("/client")},e.clientOnClickEdit=function(t){e.setState({clientInfo:t}),e.props.history.push("/editclient")},e.servicesOnClick=function(t,n){console.log(t),console.log("service => ",n.value);var a=n.value;e.setState({serviceId:a})},e.selectPetOnClick=function(t,n){console.log("pet -> ",n.value);var a=n.value;e.setState({petIdOnSelect:a})},e.checkIn=function(t){t.preventDefault(),console.log("event",t),fetch("https://k9-petshop.herokuapp.com/appointments",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({appointment:{pet_id:e.state.petIdOnSelect,service_id:e.state.serviceId,date:e.state.curTime}})}).then((function(e){return e.json()})).then((function(t){console.log("after submitting",t),e.setState({appointments:[].concat(Object(i.a)(e.state.appointments),[t]),activeItemHome:"Checked In"}),console.log("after setting state",e.state.appointments),e.fetchingAllAppointments(),e.fetchingAllPets()}))},e.handleResultSelect=function(t,n){var a=n.result;e.setState({value:a.name})},e.handleSearchChange=function(t,n){var a=n.value;e.setState({isLoading:!0,value:a}),setTimeout((function(){if(e.state.value.length<1)return e.setState({isLoading:!1,results:"",value:""});var t=new RegExp(R.a.escapeRegExp(e.state.value),"i");e.setState({isLoading:!1,results:R.a.filter(e.state.pets,(function(e){return t.test(e.name)}))})}),300)},e.handleItemClick=function(t,n){var a=n.name;e.setState({activeItem:a}),"History"===a&&e.fetchingAllPets()},e.handleItemClickHome=function(t,n){var a=n.name;return e.setState({activeItemHome:a})},e.finishOnClick=function(t){console.log("data on click",t);var n={method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({appointment:{appointment_id:t.appointmentId}})};fetch("https://k9-petshop.herokuapp.com/appointments/".concat(t.appointmentId),n).then((function(e){return e.json()})).then((function(t){console.log(t),e.fetchingAllAppointments()}))},e.searchClientsHandleChange=function(t,n){console.log("input",t),console.log("e",n),e.setState({search:t.target.value});var a=e.state.search.toLowerCase();console.log("lower case search input",a);var l=e.state.clients.filter((function(e){return e.firstname.toLowerCase().includes(a)}));console.log("search results",l),e.setState({filteredClients:l}),"deleteContentBackward"===t.nativeEvent.inputType&&e.fetchingAllClients()},e.searchHistoryHandleChange=function(t,n){e.setState({search:t.target.value});var a=e.state.search.toLowerCase();console.log("lower case search input",a);var l=e.state.pets.filter((function(e){return e.name.toLowerCase().includes(a)}));console.log("search results",l),e.setState({filteredPets:l}),"deleteContentBackward"===t.nativeEvent.inputType&&e.fetchingAllPets()},e.handleClickLogout=function(t){t.preventDefault(),localStorage.clear(),e.props.history.push("/")},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.fetchingAllClients(),this.fetchingAllAppointments(),this.fetchingAllBreed(),this.fetchingAllPets(),this.fetchingAllServices(),this.setState({curTime:(new Date).toLocaleDateString()})}},{key:"render",value:function(){var e=this;return console.log("pets",this.state.pets),l.a.createElement(a.Fragment,null,l.a.createElement("div",{class:"ui huge header center aligned blue"},"K9 Grooming",l.a.createElement("div",{class:"sub header"},"Manage your account settings and set e-mail preferences.")),l.a.createElement("div",null,l.a.createElement(w,{handleItemClick:this.handleItemClick,activeItem:this.state.activeItem,searchClientsHandleChange:this.searchClientsHandleChange,searchHistoryHandleChange:this.searchHistoryHandleChange,handleClickLogout:this.handleClickLogout})),l.a.createElement("div",{class:"ui segment"},l.a.createElement(z.c,null,l.a.createElement(z.a,{exact:!0,path:"/",render:function(){return l.a.createElement(O,{activeItemHome:e.state.activeItemHome,finishOnClick:e.finishOnClick,handleItemClickHome:e.handleItemClickHome,services:e.state.services,servicesOnClick:e.servicesOnClick,selectPetOnClick:e.selectPetOnClick,pets:e.state.pets,checkIn:e.checkIn,appointments:e.state.appointments,handleResultSelect:e.handleResultSelect,handleSearchChange:e.handleSearchChange,isLoading:e.state.isLoading,results:e.state.results,value:e.state.value})}}),l.a.createElement(z.a,{exact:!0,path:"/form",render:function(){return l.a.createElement(S,{addingClient:e.addingClient,clientInfo:e.state.clientInfo,formHandleChange:e.formHandleChange})}}),l.a.createElement(z.a,{exact:!0,path:"/history",render:function(){return l.a.createElement(G,{pets:e.state.filteredPets,appointments:e.state.appointments,services:e.state.services})}}),l.a.createElement(z.a,{exact:!0,path:"/services/new",render:function(){return l.a.createElement(F,{serviceNew:e.state.serviceNewValue,handleChangeServiceNew:e.handleChangeServiceNew,addingNewService:e.addingNewService,services:e.state.services,serviceOnClickDelete:e.serviceOnClickDelete})}}),l.a.createElement(z.a,{exact:!0,path:"/current",render:function(){return l.a.createElement(A,null)}}),l.a.createElement(z.a,{exact:!0,path:"/client",render:function(){return l.a.createElement(T,{deleteClientHandleClick:e.deleteClientHandleClick,filteredClients:e.state.filteredClients,clients:e.state.clients,addingPetToAClient:e.addingPetToAClient,clientOnClickEdit:e.clientOnClickEdit,clientPetOnClick:e.clientPetOnClick,clientPets:e.state.clientPets})}}),l.a.createElement(z.a,{exact:!0,path:"/customnav",render:function(){return l.a.createElement(w,{handleItemClick:e.handleItemClick,search:e.state.search,activeItem:e.state.activeItem})}}),l.a.createElement(z.a,{exact:!0,path:"/signup",render:function(){return l.a.createElement(H,{handleChange:e.handleChange,accounts:e.state.accounts,addingUser:e.addingUser})}}),l.a.createElement(z.a,{exact:!0,path:"/addPet",render:function(){return l.a.createElement(L,{petOnClickEdit:e.petOnClickEdit,petInfo:e.state.petInfo,breeds:e.state.breeds,submitingPet:e.submitingPet,petInfoInputChange:e.petInfoInputChange,clientPets:e.state.clientPets,petBreedOnChange:e.petBreedOnChange,breedName:e.state.breedName})}}),l.a.createElement(z.a,{exact:!0,path:"/editPet",render:function(){return l.a.createElement(B,{petInfo:e.state.petInfo,breeds:e.state.breeds,submitingEditPet:e.submitingEditPet,petInfoInputChange:e.petInfoInputChange,clientPets:e.state.clientPets,petBreedOnChange:e.petBreedOnChange,breedName:e.state.breedName})}}),l.a.createElement(z.a,{exact:!0,path:"/editclient",render:function(){return l.a.createElement(_,{submitingEditClient:e.submitingEditClient,clientInfo:e.state.clientInfo,formHandleChange:e.formHandleChange})}}),l.a.createElement(z.a,{exact:!0,path:"/pet",render:function(){return l.a.createElement(D,{clientPets:e.state.clientPets,clientName:e.state.clientName,petOnClickDelete:e.petOnClickDelete,petOnClickEdit:e.petOnClickEdit})}}),l.a.createElement(z.a,{exact:!0,path:"/login",render:function(){return l.a.createElement(U,{handleLoginChange:e.handleLoginChange,handleClick:e.handleClick})}}))))}}]),n}(a.Component),Q=Object(z.f)(V);n(326);r.a.render(l.a.createElement(y.a,null,l.a.createElement(Q,null)),document.getElementById("root"))}},[[191,1,2]]]);
//# sourceMappingURL=main.55e4fd69.chunk.js.map